[% extends 'layout.html' %]

[% block body%]


<div class="container">

    <div class="starter-template">
        <h1>Mail Page!</h1>
        <ul class="nav nav-tabs" id="mail-folders">
            <!-- ko template: {name: 'mail-folders-tpl', foreach: data} -->
            <!-- /ko -->
            <li><a href="#">+</a></li>
        </ul>
        <div id="mails-grid" data-bind="if: gridView">
            <form class="form-inline" role="form">
                <div class="row-fluid filters">
                    <label for="visibleForm" class="labelForVisibleForm"><h2>Filters</h2></label>
                    <input type = "checkbox" id = "visibleForm">
                    <div  class = "demo">
                        <div class="span1">
                            <label class="sr-only" for="subject">Subject</label>
                            <input type="text" class="form-control" id="subject" placeholder="Subject">
                        </div>
                        <div class="span1">
                            <label class="sr-only" for="position">Position</label>
                            <input type="text" class="form-control" id="position" placeholder="Position">
                        </div>
                        <div class="span1">
                            <label class="sr-only" for="organization">Organization</label>
                            <input type="text" class="form-control" id="organization" placeholder="Organization">
                        </div>
                        <div class="span1">
                            <label class="sr-only" for="name">Name</label>
                            <input type="text" class="form-control" id="name" placeholder="Name">
                        </div>
                        <div class="span1">
                            <label class="sr-only" for="date">Date</label>
                            <input type="text" class="form-control" id="date" placeholder="Date">
                        </div>
                        <div class="span1">
                            <button type="submit" class="btn btn-default">Filter</button>
                            <button type="submit" class="btn btn-default">Reset</button>
                        </div>
                    </div>
                </div>
            </form>
            <table class="table mails">
                <tr>
                    <th><input type="checkbox" name="selectAll"/></th>
                    <th>Subject</th>
                    <th>Position</th>
                    <th>Organization</th>
                    <th>Name</th>
                    <th>Date</th>
                </tr>
                <!-- ko template: {name: 'mails-grid-tpl', foreach: data} -->
                <!-- /ko -->
            </table>
        </div>

    </div>

    <div class="col-lg-12" id="single-mail" data-bind="if: messageView">
        <!-- ko with: messageData -->
            <div class="mail-box-header">
                <div class="pull-right tooltip-demo">
                    <a href="mail_compose.html" class="btn btn-white btn-sm" data-toggle="tooltip" data-placement="top" title="" data-original-title="Reply"><i class="glyphicon glyphicon-arrow-left"></i> Reply</a>
                    <a href="#" class="btn btn-white btn-sm" data-toggle="tooltip" data-placement="top" title="" data-original-title="Print email"><i class="glyphicon glyphicon-print"></i> </a>
                    <a href="mailbox.html" class="btn btn-white btn-sm" data-toggle="tooltip" data-placement="top" title="" data-original-title="Move to trash"><i class="glyphicon glyphicon-trash"></i> </a>
                </div>
                <h2>
                    View Message
                </h2>
                <div class="mail-tools tooltip-demo m-t-md">
                    <h3>
                        <span class="font-noraml">Subject: </span>{{title}}
                    </h3>
                    <h5>
                        <span class="pull-right font-noraml">{{date}}</span>
                        <span class="font-noraml">From: </span>{{sender_position}} {{sender_organization}} {{sender_user}}
                    </h5>
                </div>
            </div>
            <div class="mail-box">
                <div class="mail-body" data-bind="html: body">
                </div>
                <div class="mail-body text-right tooltip-demo">
                    <a class="btn btn-sm btn-white" href="mail_compose.html"><i class="glyphicon glyphicon-arrow-left"></i> Reply</a>
                    <a class="btn btn-sm btn-white" href="mail_compose.html"><i class="glyphicon glyphicon-share-alt"></i> Forward</a>
                    <button title="" data-placement="top" data-toggle="tooltip" type="button" data-original-title="Print" class="btn btn-sm btn-white"><i class="glyphicon glyphicon-print"></i> Print</button>
                    <button title="" data-placement="top" data-toggle="tooltip" data-original-title="Trash" class="btn btn-sm btn-white"><i class="glyphicon glyphicon-trash"></i> Remove</button>
                </div>
                <div class="clearfix"></div>
            </div>
        <!-- /ko -->
    </div>


</div>

[% endblock %]

[% block tpls %]

<script type="text/html" id="mail-folders-tpl">
    <li data-bind="click: $root.setActive, selected: 'title'">
        <a data-bind="attr.href: '/mail#'+title">{{title}}</a>
    </li>
</script>

<script type="text/html" id="mails-grid-tpl">
    <tr data-bind="click: $root.choosenMail">
        <td><input type="checkbox" name="selectItem"/></td>
        <td>{{title}}</td>
        <td>{{position}}</td>
        <td>{{organization}}</td>
        <td>{{user}}</td>
        <td>{{date}}</td>
    </tr>
</script>

<script type="text/html" id="mail-attach-tpl">
    <div class="mail-attachment">
        <p>
            <span><i class="fa fa-paperclip"></i> Attachments - </span>
            <a href="#">Download</a>
        </p>
        <div class="file-box">
            <div class="file">
                <a href="#">
                    <span class="corner"></span>
                    <div class="thumbnail">
                        <img data-src="holder.js/100%x180" alt="...">
                    </div>
                    <div class="file-name">
                        {{attachName}}
                    </div>
                </a>
            </div>
        </div>
        <div class="attachment">
            <div class="file-box">
                <div class="file">
                    <a href="#">
                        <span class="corner"></span>
                        <div class="icon">
                                <i class="glyphicon glyphicon-file"></i>
                        </div>
                        <div class="file-name">
                            {{attachName}}
                        </div>
                    </a>
                </div>
            </div>
            <div class="clearfix"></div>
        </div>
    </div>
</script>
[% endblock %]